# Incheon Weather Alert Engine (2024)

2024년 1년치 인천 기상 관측(시계열) 데이터를 기반으로, 각 시점별 **기상 특보(주의보/경보/해당없음/판단불가)** 를 규칙 기반으로 판별하는 프로젝트입니다.

- 입력: `OBS_ASOS_TIM_20240101_20241231.csv` (시간 단위 관측)
- 검증: `val_data.csv` (정답 포함 공개 검증 데이터)
- 출력: `incheon_alerts_2024.csv` (전체 시점에 대한 4종 특보 판별 결과)

---

## What I built

과제에서 요구한 4개의 알람 메소드(규칙 기반 탐지)를 구현했습니다.

- `wind_alarm(df)` : 강풍 특보 (시간 단위)
- `dry_alarm(df)` : 건조 특보 (일 단위)
- `heat_alarm(df)` : 폭염 특보 (일 단위)
- `cold_alarm(df)` : 한파 특보 (일 단위 / 10~4월 조건)

각 메소드는 모든 행(시점)에 대해 아래 중 하나를 반환합니다.

- `주의보`
- `경보`
- `해당없음`
- `판단불가` (앞/뒤 데이터 부족 등으로 판별 불가한 구간)

---

## Dataset

### Raw data
- `data/raw/OBS_ASOS_TIM_20240101_20241231.csv`
- 2024년 인천 관측 시계열 (시간 단위)

주요 컬럼 예시:
- `일시`
- `기온(°C)`
- `풍속(m/s)`
- `습도(%)`
- (그 외 다수 관측 변수)

> 참고: 제공 데이터는 한글 인코딩(CP949)일 수 있어, 파이썬에서 읽을 때 `encoding="cp949"`가 필요할 수 있습니다.

### Validation data
- `data/val/val_data.csv`
- 공개 정답이 포함된 7일간 가상 데이터 (구현한 규칙을 점검하는 용도)

---

## Method (Implementation Summary)

본 구현은 **pandas/numpy 기반 벡터화**를 중심으로 구성했습니다.

### 1) 강풍 특보 (시간 단위)
- “다음 1시간”의 풍속을 확인하도록 `shift`/배열 이동을 사용
- 기준치를 넘으면 `주의보/경보` 판정

### 2) 건조 특보 (일 단위)
- 일 평균 상대습도를 집계
- 과제 명세의 실효습도 계산식을 적용해 일 단위 지표 생성
- 다음날/다다음날까지 유지 여부를 확인해 `주의보/경보` 판정

### 3) 폭염 특보 (일 단위)
- 일 최고기온을 집계
- 다음날/다다음날 기준 온도 유지 여부로 `주의보/경보` 판정

### 4) 한파 특보 (일 단위, 10~4월 조건)
- “아침 최저기온(03:00~08:59)”을 일 단위로 집계
- (급강하 조건) 및 (절대 최저온 지속 조건)으로 `주의보/경보` 판정

---

## Results

공개 검증 데이터(`val_data.csv`) 기준으로 4개 특보 모두 **정확도 100%**를 확인했습니다.

- 강풍 특보: 168/168 (100.00%)
- 폭염 특보: 168/168 (100.00%)
- 건조 특보: 168/168 (100.00%)
- 한파 특보: 168/168 (100.00%)

---

## Output

- `outputs/incheon_alerts_2024.csv`

출력 컬럼 예시:
- `일시`, `기온(°C)`, `풍속(m/s)`, `습도(%)`
- `강풍 특보`, `건조 특보`, `폭염 특보`, `한파 특보`

---

## How to run

1) 의존성 설치

    python -m pip install -U pip
    python -m pip install pandas numpy jupyter

2) 노트북 실행

    jupyter notebook notebooks/source_code.ipynb

노트북을 위에서부터 실행하면,
- `val_data.csv`로 정답 검증(정확도 출력)
- 2024 전체 데이터에 대해 결과 생성
- `outputs/incheon_alerts_2024.csv` 저장
까지 재현할 수 있습니다.

---

## Repository Structure

    .
    ├─ docs/
    │  └─ spec.pdf
    ├─ notebooks/
    │  └─ source_code.ipynb
    ├─ data/
    │  ├─ raw/
    │  │  └─ OBS_ASOS_TIM_20240101_20241231.csv
    │  └─ val/
    │     └─ val_data.csv
    └─ outputs/
       └─ incheon_alerts_2024.csv

---

## Notes

- 규칙 기반 탐지(Rule-based) 방식으로 과제 명세의 조건을 재현하는 것을 목표로 했습니다.
- “판단불가”는 데이터 양끝단처럼 앞/뒤 참조가 불가능한 구간에서 발생할 수 있습니다.


